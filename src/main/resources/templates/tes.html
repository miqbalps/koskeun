<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Kos - KosKeun</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }

        .facility-badge {
            transition: all 0.2s ease;
        }

        .facility-badge:hover {
            transform: translateY(-2px);
        }

        .gallery-image {
            transition: transform 0.3s ease;
        }

        .gallery-image:hover {
            transform: scale(1.03);
        }

        .booking-card {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body class="bg-gray-50">
    <!-- Navbar -->
    <nav class="bg-white shadow-md sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <div class="flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-emerald-600" viewBox="0 0 20 20"
                        fill="currentColor">
                        <path
                            d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                    </svg>
                    <h1
                        class="text-2xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent">
                        KosKeun</h1>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#" class="text-gray-600 hover:text-emerald-600 transition-colors font-medium">Beranda</a>
                    <a href="#" class="text-gray-600 hover:text-emerald-600 transition-colors font-medium">Cari Kos</a>
                    <a href="#" class="text-gray-600 hover:text-emerald-600 transition-colors font-medium">Tentang</a>
                    <a th:href="@{/login}"
                        class="btn-primary bg-green-600 text-white px-5 py-2 rounded-lg font-medium transition-all shadow-md hover:shadow-emerald-200">
                        Masuk/Daftar
                    </a>
                </div>
                <button class="md:hidden text-gray-600">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Breadcrumb -->
        <div class="flex items-center text-sm text-gray-600 mb-6">
            <a href="#" class="hover:text-emerald-600">Beranda</a>
            <span class="mx-2">/</span>
            <a href="#" class="hover:text-emerald-600">Jakarta</a>
            <span class="mx-2">/</span>
            <span class="text-emerald-600">Kos Green Valley</span>
        </div>

        <!-- Property Header -->
        <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-8">
            <div>
                <h1 class="text-3xl font-bold text-gray-900" th:text="${kos.name}">Kos Green Valley</h1>
                <div class="flex items-center mt-2">
                    <i class="fas fa-map-marker-alt text-emerald-600 mr-2"></i>
                    <span class="text-gray-600" th:text="${kos.address}">Jl. Melati No. 123, Jakarta Selatan</span>
                </div>
            </div>
            <div class="mt-4 md:mt-0 flex items-center">
                <div class="flex items-center mr-4">
                    <i class="fas fa-star text-yellow-400"></i>
                    <span class="ml-1 font-medium">4.8</span>
                    <span class="text-gray-500 ml-1">(124 reviews)</span>
                </div>
                <div class="flex space-x-2">
                    <button class="p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200">
                        <i class="far fa-heart"></i>
                    </button>
                    <button class="p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200">
                        <i class="fas fa-share-alt"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Gallery and Main Info -->
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Gallery -->
            <div class="lg:col-span-2">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="md:col-span-3">
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[0].url})}"
                            alt="Kos Main Image" class="w-full h-80 md:h-96 rounded-xl object-cover gallery-image">
                    </div>
                    <div>
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[1].url})}" alt="Kos Image 2"
                            class="w-full h-48 rounded-xl object-cover gallery-image">
                    </div>
                    <div>
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[2].url})}" alt="Kos Image 3"
                            class="w-full h-48 rounded-xl object-cover gallery-image">
                    </div>
                    <div>
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[2].url})}" alt="Kos Image 3"
                            class="w-full h-48 rounded-xl object-cover gallery-image">
                    </div>
                    <div>
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[2].url})}" alt="Kos Image 3"
                            class="w-full h-48 rounded-xl object-cover gallery-image">
                    </div>
                    <div>
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[2].url})}" alt="Kos Image 3"
                            class="w-full h-48 rounded-xl object-cover gallery-image">
                    </div>
                    <div>
                        <img th:if="${not #lists.isEmpty(kos.images)}"
                            th:src="@{/uploads/kos-images/{filename}(filename=${kos.images[2].url})}" alt="Kos Image 3"
                            class="w-full h-48 rounded-xl object-cover gallery-image">
                    </div>
                </div>

                <!-- Property Details -->
                <div class="mt-8 bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-4">Deskripsi Kos</h2>
                    <p class="text-gray-600 mb-6" th:text="${kos.description}">
                        Kos Green Valley merupakan kos eksklusif dengan fasilitas lengkap di kawasan strategis Jakarta
                        Selatan.
                        Dekat dengan kampus dan pusat perbelanjaan. Kamar dilengkapi AC, kamar mandi dalam, dan WiFi
                        cepat.
                        Lingkungan yang nyaman dan aman dengan security 24 jam.
                    </p>

                    <h2 class="text-xl font-bold text-gray-900 mb-4">Fasilitas</h2>
                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3">
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-wifi mr-2"></i>
                            <span>WiFi</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-snowflake mr-2"></i>
                            <span>AC</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-car mr-2"></i>
                            <span>Parkir Mobil</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-motorcycle mr-2"></i>
                            <span>Parkir Motor</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-utensils mr-2"></i>
                            <span>Dapur Bersama</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-tv mr-2"></i>
                            <span>TV Ruang Tamu</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-water mr-2"></i>
                            <span>Air Hangat</span>
                        </div>
                        <div
                            class="facility-badge bg-emerald-50 text-emerald-700 px-4 py-2 rounded-lg flex items-center">
                            <i class="fas fa-shield-alt mr-2"></i>
                            <span>Keamanan 24 Jam</span>
                        </div>
                    </div>

                    <h2 class="text-xl font-bold text-gray-900 mt-8 mb-4">Lokasi</h2>
                    <div class="rounded-xl overflow-hidden h-64 mb-4">
                        <!-- Map Embed -->
                        <iframe width="100%" height="100%" frameborder="0" scrolling="no" marginheight="0"
                            marginwidth="0" src="https://maps.google.com/maps?q=-6.229728,106.689431&z=15&output=embed"
                            class="border-0">
                        </iframe>
                    </div>
                    <div class="flex items-center text-gray-600">
                        <i class="fas fa-info-circle text-emerald-600 mr-2"></i>
                        <span th:text="'Lat: ' + ${kos.latitude} + ', Long: ' + ${kos.longitude}">Lat: -6.229728, Long:
                            106.689431</span>
                    </div>
                </div>

                <!-- Reviews Section -->
                <div class="mt-8 bg-white rounded-xl shadow-md p-6">
                    <h2 class="text-xl font-bold text-gray-900 mb-6">Ulasan (124)</h2>

                    <div class="space-y-6">
                        <!-- Review 1 -->
                        <div class="border-b border-gray-100 pb-6">
                            <div class="flex items-center mb-3">
                                <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="User"
                                    class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <h4 class="font-medium">Sarah Wijaya</h4>
                                    <div class="flex items-center">
                                        <div class="flex mr-2">
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                        </div>
                                        <span class="text-gray-500 text-sm">2 minggu lalu</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600">
                                Kosnya sangat nyaman dan bersih. Lokasi strategis dekat kampus dan mall. Pemiliknya
                                ramah dan responsif. Fasilitas lengkap sesuai iklan.
                            </p>
                        </div>

                        <!-- Review 2 -->
                        <div class="border-b border-gray-100 pb-6">
                            <div class="flex items-center mb-3">
                                <img src="https://randomuser.me/api/portraits/men/45.jpg" alt="User"
                                    class="w-10 h-10 rounded-full mr-3">
                                <div>
                                    <h4 class="font-medium">Budi Santoso</h4>
                                    <div class="flex items-center">
                                        <div class="flex mr-2">
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                            <i class="fas fa-star text-yellow-400 text-sm"></i>
                                        </div>
                                        <span class="text-gray-500 text-sm">1 bulan lalu</span>
                                    </div>
                                </div>
                            </div>
                            <p class="text-gray-600">
                                Tinggal disini sudah 6 bulan, sangat puas. Air lancar, listrik stabil, WiFi cepat. Ada
                                cleaning service seminggu 2x. Recommended!
                            </p>
                        </div>
                    </div>

                    <button
                        class="mt-6 w-full py-3 border border-emerald-600 text-emerald-600 rounded-lg font-medium hover:bg-emerald-50 transition-colors">
                        Lihat Semua Ulasan
                    </button>
                </div>
            </div>

            <!-- Booking Card -->
            <div class="sticky top-24 h-fit">
                <div class="bg-white rounded-xl booking-card p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-900">Harga Sewa</h3>
                        <span class="bg-emerald-100 text-emerald-800 px-3 py-1 rounded-full text-sm font-medium"
                            th:text="${kos.status == 'available' ? 'Tersedia' : 'Penuh'}">
                            Tersedia
                        </span>
                    </div>

                    <div class="mb-6">
                        <p class="text-3xl font-bold text-emerald-600 mb-1"
                            th:text="'Rp ' + ${#numbers.formatDecimal(kos.priceMonthly, 0, 'COMMA', 2, 'POINT')} + '/bulan'">
                            Rp 1.800.000/bulan</p>
                        <p class="text-gray-500"
                            th:text="'Kamar tersedia: ' + ${kos.roomAvailable} + ' dari ' + ${kos.roomCount}">Kamar
                            tersedia: 5 dari 10</p>
                    </div>

                    <div class="space-y-4 mb-6">
                        <div class="flex justify-between">
                            <span class="text-gray-600">Tipe Kos</span>
                            <span class="font-medium" th:text="${kos.type}">Putri</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Kategori</span>
                            <span class="font-medium" th:text="${kos.category}">Eksklusif</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-600">Luas Kamar</span>
                            <span class="font-medium">3x4 m²</span>
                        </div>
                    </div>

                    <button
                        class="w-full bg-gradient-to-r from-emerald-500 to-green-600 text-white py-3 rounded-lg font-bold hover:opacity-90 transition-opacity mb-4">
                        Sewa Sekarang
                    </button>

                    <button
                        class="w-full border border-emerald-600 text-emerald-600 py-3 rounded-lg font-medium hover:bg-emerald-50 transition-colors">
                        Booking
                    </button>

                    <div class="mt-6 p-4 bg-gray-50 rounded-lg">
                        <div class="flex items-center">
                            <img src="https://randomuser.me/api/portraits/women/45.jpg" alt="Owner"
                                class="w-12 h-12 rounded-full mr-3">
                            <div>
                                <h4 class="font-medium">Ibu Siti</h4>
                                <p class="text-sm text-gray-600">Pemilik Kos</p>
                            </div>
                        </div>
                        <div class="mt-3 flex items-center text-sm">
                            <i class="fas fa-phone-alt text-emerald-600 mr-2"></i>
                            <span>0812-3456-7890</span>
                        </div>
                    </div>
                </div>

                <!-- Similar Kos -->
                <div class="mt-6 bg-white rounded-xl shadow-md p-6">
                    <h3 class="text-lg font-bold text-gray-900 mb-4">Kos Serupa</h3>

                    <div class="space-y-4">
                        <!-- Similar Kos 1 -->
                        <div class="flex">
                            <img src="https://images.unsplash.com/photo-1584622650111-993a426fbf0a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80"
                                alt="Similar Kos" class="w-16 h-16 rounded-lg object-cover">
                            <div class="ml-3">
                                <h4 class="font-medium text-gray-900">Kos Mawar Indah</h4>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt text-emerald-600 mr-1"></i>
                                    <span class="text-gray-600">Jakarta Selatan</span>
                                </div>
                                <p class="text-emerald-600 font-bold text-sm">Rp 1.500.000/bulan</p>
                            </div>
                        </div>

                        <!-- Similar Kos 2 -->
                        <div class="flex">
                            <img src="https://images.unsplash.com/photo-1554469384-e58fac16e23a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1374&q=80"
                                alt="Similar Kos" class="w-16 h-16 rounded-lg object-cover">
                            <div class="ml-3">
                                <h4 class="font-medium text-gray-900">Kos Sejahtera</h4>
                                <div class="flex items-center text-sm">
                                    <i class="fas fa-map-marker-alt text-emerald-600 mr-1"></i>
                                    <span class="text-gray-600">Jakarta Pusat</span>
                                </div>
                                <p class="text-emerald-600 font-bold text-sm">Rp 1.200.000/bulan</p>
                            </div>
                        </div>
                    </div>

                    <a href="#" class="mt-4 inline-block text-emerald-600 hover:text-emerald-800 text-sm font-medium">
                        Lihat lebih banyak <i class="fas fa-arrow-right ml-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white pt-12 pb-8 mt-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-emerald-400" viewBox="0 0 20 20"
                            fill="currentColor">
                            <path
                                d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" />
                        </svg>
                        <h2 class="text-2xl font-bold text-white">KosKeun</h2>
                    </div>
                    <p class="text-gray-400 mb-4">
                        Platform pencarian kos terbaik di Indonesia dengan ribuan pilihan kos di berbagai kota.
                    </p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition-colors">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Perusahaan</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Tentang Kami</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Karir</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Blog</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Kontak</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Layanan</h3>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Cari Kos</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Pasang Iklan</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">Konsultasi</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white transition-colors">FAQ</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-bold mb-4">Kontak</h3>
                    <ul class="space-y-2 text-gray-400">
                        <li class="flex items-center">
                            <i class="fas fa-map-marker-alt mr-3 text-emerald-400"></i> Jakarta, Indonesia
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-envelope mr-3 text-emerald-400"></i> hello@koskeun.com
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-phone-alt mr-3 text-emerald-400"></i> +62 812 3456 7890
                        </li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-12 pt-8 text-center text-gray-400">
                <p>© 2024 KosKeun. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Back to Top Button
        const backToTopButton = document.createElement('button');
        backToTopButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
        backToTopButton.className = 'fixed bottom-8 right-8 bg-emerald-600 text-white p-3 rounded-full shadow-lg opacity-0 invisible transition-all';
        backToTopButton.id = 'backToTop';
        document.body.appendChild(backToTopButton);

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.remove('opacity-0', 'invisible');
                backToTopButton.classList.add('opacity-100', 'visible');
            } else {
                backToTopButton.classList.remove('opacity-100', 'visible');
                backToTopButton.classList.add('opacity-0', 'invisible');
            }
        });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        const response = await fetch('/api/login', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData)
        });

        if (response.ok) {
            const data = await response.json();
            localStorage.setItem('token', data.token);
            window.location.href = '/';
        } else {
            const errorData = await response.json();
            document.getElementById('error-message').innerText = errorData.message;
            document.getElementById('error-message').classList.remove('hidden');
        }
    </script>
</body>

</html>